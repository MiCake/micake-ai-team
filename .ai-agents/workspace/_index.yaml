# =============================================================================
# Workspace Directory Index
# =============================================================================
directory:
  name: workspace
  purpose: Project workspace, stores state, context, and history

# -----------------------------------------------------------------------------
# Data Tiering Strategy
# -----------------------------------------------------------------------------
storage_tiers:
  hot:
    location: state/
    description: "Current session and active changes"
    retention: session
    max_size: 50KB
    files:
      - session.yaml      # Current session state
      - active-change.yaml  # Current change in progress
      - knowledge-cache.yaml  # Knowledge cache
    
  warm:
    location: context/
    description: "Project context and key configurations"
    retention: permanent
    max_size: 100KB
    files:
      - project.yaml      # Project basic info
      - architecture.yaml # Architecture decisions
      - requirements.yaml # Requirements summary
      - decisions.yaml    # Important decisions log
    
  cold:
    location: history/
    description: "History records and archived data"
    retention: "90 days (then archive)"
    index_only: true
    subdirs:
      - phases/           # Phase history
      - changes/          # Change history

# -----------------------------------------------------------------------------
# Directory Structure
# -----------------------------------------------------------------------------
structure:
  state/:
    purpose: "Hot data - current state"
    
  context/:
    purpose: "Warm data - project context"
    
  history/:
    purpose: "Cold data - history archive"
    subdirs:
      - phases/
      - changes/
    
  requirements/:
    purpose: "Requirements document storage"
    
  artifacts/:
    purpose: "Work products, grouped by change"
    pattern: "{change-id}/"

# -----------------------------------------------------------------------------
# Archive Configuration
# -----------------------------------------------------------------------------
archive:
  strategy: summary-on-archive
  threshold: 30 days
  preserve: [decisions, summaries]
  
compression:
  enabled: true
  method: summary-extraction
